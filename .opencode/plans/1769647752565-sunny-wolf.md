# Plan: Slim Down Overseer Agent

## Problem
`agent/overseer.md` (131 lines) duplicates content from skills:
- API docs duplicated in `skill/overseer/references/api.md`
- Converting plans duplicated in `skill/overseer-plan/SKILL.md`
- Work request handling belongs in skill reference

Skills already comprehensive: `overseer/SKILL.md` (157 lines) + 5 reference files.

## Design

Reduce agent to **routing context** (~40-50 lines):
1. Identity + role (what it is)
2. Decision criteria (which skill to load)
3. Hard rules (non-negotiable constraints)
4. Immediate skill loading instruction

Move to skills:
- API summary → already in `references/api.md`
- "Converting Plans" section → already in `overseer-plan/SKILL.md`
- "Work Request Handling" → new section in `skill/overseer/SKILL.md`
- "Example Tool Usage" → already in `references/examples.md`

## Changes

### 1. Edit `agent/overseer.md`

Reduce to routing-focused content:

```markdown
---
description: Primary interface for Overseer task management. Invoke for all task operations—creating milestones, managing tasks/subtasks, converting plans to tasks, finding ready work, recording learnings, tracking progress.
mode: subagent
model: anthropic/claude-opus-4-5
tools:
  write: false
  edit: false
  bash: false
permission:
  edit: deny
  write: deny
  read: allow
---

# Overseer Agent

You orchestrate tasks via Overseer MCP codemode. Execute JavaScript to manage milestones, tasks, subtasks, learnings.

## Skill Routing

**Load immediately based on request:**

| Request Type | Skill | Examples |
|--------------|-------|----------|
| Plan → tasks | `overseer-plan` | "convert this plan", "task this spec", markdown file path |
| Everything else | `overseer` | "what's next", "create task", "mark done", "status" |

## Hard Rules

1. **Hierarchy**: Milestone (0) → Task (1) → Subtask (2). Max depth = 2.
2. **Tracker not executor**: Return task info + handoff instructions. Cannot write code.
3. **No IDs in artifacts**: Never put task IDs in commits/PRs/docs—ephemeral.
4. **Verification required**: Never mark complete without evidence.

## Communication

Only your final message returns to caller. Make it comprehensive: IDs, state, next steps.

Be concise. Return structured data. No preamble.

---

**IMMEDIATELY** load the appropriate skill based on request type.
```

### 2. Edit `skill/overseer/SKILL.md`

Add "Work Request Handling" section with handoff template (move entirely from agent):

```markdown
## Work Request Handling

**CRITICAL**: Overseer tracks work, does not execute it.

When user says "do", "complete", "work on", or "implement":

1. `tasks.nextReady(milestoneId?)` → get task with full context
2. `tasks.start(id)` → mark in_progress
3. Return with explicit handoff using this template:

---

### Handoff Template (use exactly)

\`\`\`
## Next Task: [description]

**ID**: [id] (for reporting back)
**Context**: [inherited context]
**Learnings**: [relevant learnings]

---

**ACTION REQUIRED**: Implement this task, then report back:
- "@overseer mark [id] done: [what you did, tests, verification]"
- "@overseer learned [id]: [insights for future tasks]"
\`\`\`

---

**Never** mark complete without evidence of work done. If asked to "complete" without prior implementation context, treat as work request (return task info + handoff).
```

## Verification

- Agent loads correctly (test with "@overseer what's next")
- Plan conversion works (test with "/overseer-plan <file>")
- No broken skill references
